"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("react"),n=e(t),r=e(require("debug")),a=function(e){return r(e)},o=t.createContext({stateContent:{},stateview:null,setStateview:function(){}}),s=a("src/state.ts"),u=function(e){var t=Object.keys(e.GlobalStateMapping);return Object.assign(e,{_vshow:function(e,t){(0,this._getStateBy(e).show)(t)},_setCurrent:function(t){e.GlobalStateMapping.currentState=t},_getStateBy:function(t){return e.GlobalStateMapping[t]},show:function(e){var n=this._getStateBy(e);e!==n.currentState?-1!==t.indexOf(e)?(s(e),this._vshow(e,n.component),this._setCurrent(e)):console.warn("setCurrent()参数中的"+e+" 状态不在stateview中["+t.join("/")+"]"):console.warn("状态一样，无需刷新")}})},i=a("stateview.jsx"),c=0,l={};exports.Debug=a,exports.Layer=function(e){return n.createElement(t.Fragment,null,e.component)},exports.SState=u,exports.StateContext=o,exports.Stateview=function(e){var r=t.useState(0),a=r[0],s=r[1];n.Children.forEach(e.children,(function(e){i(e),i(e.props.router),l[e.props.router]={show:s,child:e,component:e.props.component}}));var p=t.useRef(null);0===c&&(l.currentState=e.default);var h=u({ref:p,GlobalStateMapping:l});i(c++),i(h);var f={stateContent:e.children,stateview:h};t.useEffect((function(){var t=l[e.default];t.show(t.component)}),[]);var v,d=null==(v=location.search.match(new RegExp("[?&]s=([^&]+)","i")))||v.length<1?"":v[1];return i(e.children[d]),n.createElement(o.Provider,{value:f},n.createElement("div",{ref:p,className:".stateview {\n  border: 1px dashed lightblue;\n}\n.example {\n  border: 1px dashed red;\n}\n".example,style:{height:e.height}},a))},exports.useStateContext=function(){return t.useContext(o)};
//# sourceMappingURL=stateview.cjs.production.min.js.map
